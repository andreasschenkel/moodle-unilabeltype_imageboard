define("unilabeltype_imageboard/imageboarddraganddrop",["exports"],(function(_exports){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0;_exports.init=()=>{var selectedImage=[];selectedImage.number=null,selectedImage.itemToMove=null,selectedImage.eventlayerX=0,selectedImage.eventlayerY=0,selectedImage.width=null,selectedImage.height=null;var canvas=null;function dragStart(event){event&&event.target&&event.target.classList.contains("image")&&(event.preventDefault(),selectedImage.number=event.target.getAttribute("id").split("unilabel-imageboard-imageid_")[1],selectedImage.width=event.target.style.width.split("px")[0],selectedImage.height=event.target.style.height.split("px")[0],selectedImage.itemToMove=document.getElementById("unilabel_imageboard_imagediv_"+selectedImage.number),selectedImage.eventlayerX=event.layerX,selectedImage.eventlayerY=event.layerY)}function drag(event){if(null!==selectedImage.number&&event.target.classList.contains("image")){var xposition=calculateXposition(event),yposition=calculateYposition(event);selectedImage.itemToMove.style.left=xposition+"px",selectedImage.itemToMove.style.top=yposition+"px";const inputPositionX=document.getElementById("id_unilabeltype_imageboard_xposition_"+selectedImage.number),inputPositionY=document.getElementById("id_unilabeltype_imageboard_yposition_"+selectedImage.number);inputPositionX.value=xposition,inputPositionY.value=yposition}}function dragEnd(event){if(null!==selectedImage.number){var xposition=calculateXposition(event),yposition=calculateYposition(event);selectedImage.itemToMove.style.left=xposition+"px",selectedImage.itemToMove.style.top=yposition+"px";const inputPositionX=document.getElementById("id_unilabeltype_imageboard_xposition_"+selectedImage.number),inputPositionY=document.getElementById("id_unilabeltype_imageboard_yposition_"+selectedImage.number);inputPositionX.value=xposition,inputPositionY.value=yposition,selectedImage.number=null}}function calculateXposition(event){var canvasboundings=canvas.getBoundingClientRect(),xposition=event.clientX-canvasboundings.left-selectedImage.eventlayerX-1;return xposition<0&&(xposition=0),xposition>=950-selectedImage.width&&(xposition=950-selectedImage.width),Math.round(xposition)}function calculateYposition(event){var canvasboundings=canvas.getBoundingClientRect(),yposition=event.clientY-canvasboundings.top-selectedImage.eventlayerY-1;return yposition<0&&(yposition=0),yposition>=400-selectedImage.height&&(yposition=400-selectedImage.height),Math.round(yposition)}setTimeout((function(){(canvas=document.getElementById("unilabel-imageboard-background-area")).addEventListener("mousedown",dragStart,!1),canvas.addEventListener("mousemove",drag,!1),canvas.addEventListener("mouseup",dragEnd,!1)}),1e3)}}));

//# sourceMappingURL=imageboarddraganddrop.min.js.map