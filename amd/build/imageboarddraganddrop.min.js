define("unilabeltype_imageboard/imageboarddraganddrop",["exports"],(function(_exports){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0;_exports.init=()=>{var activeItem=null,activeNumber=null,itemToMove=null,xoffset=0,yoffset=0,canvas=null;function dragStart(event){if(console.log("dragStart"),console.log("event",event),event.target.classList.contains("image")){event.preventDefault(),activeItem=event.target,activeNumber=event.target.getAttribute("id").split("unilabel-imageboard-imageid_")[1],itemToMove=document.getElementById("unilabel_imageboard_imagediv_"+activeNumber);var position=canvas.getBoundingClientRect(),offsetLeft=position.left,offsetTop=position.top;xoffset=event.layerX,yoffset=event.layerY,console.log("event.clientX - offsetLeft - xoffset",event.clientX,offsetLeft,xoffset),console.log("event.clientY - offsetTop - yoffset",event.clientY,offsetTop,yoffset);var xposition=event.clientX-offsetLeft-xoffset,yposition=event.clientY-offsetTop-yoffset;activeItem&&(itemToMove.style.left=Math.round(xposition)+"px",itemToMove.style.top=Math.round(yposition)+"px")}}function drag(event){if(console.log("drag"),console.log("event",event),event.target.classList.contains("image")&&activeItem){var position=canvas.getBoundingClientRect();console.log("position",position);var offsetLeft=position.left,offsetTop=position.top,xposition=event.clientX-offsetLeft-xoffset,yposition=event.clientY-offsetTop-yoffset;xposition<0&&(xposition=0),yposition<0&&(yposition=0),itemToMove.style.left=Math.round(xposition)+"px",itemToMove.style.top=Math.round(yposition)+"px";const input_xposition=document.getElementById("id_unilabeltype_imageboard_xposition_"+activeNumber),input_yposition=document.getElementById("id_unilabeltype_imageboard_yposition_"+activeNumber);input_xposition.value=Math.round(xposition),input_yposition.value=Math.round(yposition)}}function dragEnd(event){if(console.log("----dragEnd"),console.log("event",event),activeItem){var position=canvas.getBoundingClientRect(),offsetLeft=position.left,offsetTop=position.top,xposition=event.clientX-offsetLeft-xoffset,yposition=event.clientY-offsetTop-yoffset;xposition<0&&(xposition=0),yposition<0&&(yposition=0),itemToMove.style.left=Math.round(xposition)+"px",itemToMove.style.top=Math.round(yposition)+"px";const input_xposition=document.getElementById("id_unilabeltype_imageboard_xposition_"+activeNumber),input_yposition=document.getElementById("id_unilabeltype_imageboard_yposition_"+activeNumber);input_xposition.value=Math.round(xposition),input_yposition.value=Math.round(yposition),activeItem=null,activeNumber=null}}setTimeout((function(){(canvas=document.getElementById("unilabel-imageboard-background-area")).addEventListener("mousedown",dragStart,!1),canvas.addEventListener("mousemove",drag,!1),canvas.addEventListener("mouseup",dragEnd,!1)}),1e3)}}));

//# sourceMappingURL=imageboarddraganddrop.min.js.map